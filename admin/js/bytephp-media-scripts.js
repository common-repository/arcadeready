jQuery(document).ready(function(a){var b="",c="",d="",e="",f="",g="";jQuery("input.bytephp_upload-button").on("click",function(h){h.preventDefault();var i=a(this).attr("id");return i=i.split("-button")[0],i==e&&b?void b.open():(e=i,f=i+"_display",g=i,c=window["bytephp_mo_"+i],d={title:c.frame_title,button:{text:c.btn_txt},multiple:c.multiple},"games"==c.frameTypes?d.library={type:ARdataObject.frameTypes}:"image"==c.frameTypes&&(d.library={type:"image"}),b=wp.media(d),b.on("open",function(){var a=b.state().get("selection");ids=jQuery("input#"+g).val().split(","),ids.forEach(function(b){attachment=wp.media.attachment(b),attachment.fetch(),a.add(attachment?[attachment]:[])})}),b.on("select",function(){if(1==c.multiple){var d=b.state().get("selection").toJSON(),e=[],h=[];a("ul#"+i+"-preview").html(""),d.forEach(function(b){e.push(b.id),h.push(b.filename),1==c.preview&&"image"==b.type&&a("ul#"+i+"-preview").append('<li><img src="'+b.url+'"/></li>')}),attachmentIdsString=e.join(","),"filename"==c.display?(attachmentNamesString=h.join(","),a("input#"+f).val(attachmentNamesString)):a("input#"+f).val(attachmentIdsString),a("input#"+g).val(attachmentIdsString)}else{var d=b.state().get("selection").first().toJSON();1==c.preview&&"image"==arrayItem.type&&a("ul#"+i+"-preview").append('<li><img src="'+arrayItem.url+'"/></li>'),"filename"==c.display?a("input#"+f).val(d.filename):a("input#"+f).val(d.id),a("input#"+g).val(d.id)}}),void b.open())})});
